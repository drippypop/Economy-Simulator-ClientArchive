"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{2269:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(5893),a=r(7294),o=r(4245),i=r(2300),l=r(5435),s=r(4914),u=r(2565),c=r(4008),d=r(4385),f=r(9013),m=r(6063),v=function(e){var n=s.Z.useContainer(),r=(0,m.y)(),a={};return n.infiniteGamesGrid?0===n.infiniteGamesGrid.games.length?(0,t.jsx)("p",{className:"mt-4",children:"No results."}):(0,t.jsx)("div",{className:"row",children:n.infiniteGamesGrid.games.map((function(e){return(0,t.jsx)(f.Z,{className:r.gameCard+" mb-3",placeId:e.placeId,creatorId:e.creatorId,creatorType:e.creatorType,creatorName:e.creatorName,iconUrl:n.icons[e.universeId],likes:e.totalUpVotes,dislikes:e.totalDownVotes,name:e.name,playerCount:e.playerCount},e.universeId)}))}):(0,t.jsx)("div",{className:"row",children:n.sorts?n.sorts.map((function(e){if(a[e.token])return null;a[e.token]=!0;var r=n.games&&n.games[e.token]||null;return(0,t.jsx)(m.Z,{ads:!0,title:e.displayName,games:r,icons:n.icons},"row "+e.token)})):null})},p=(0,o.QM)({authContainer:{"@media(min-width: 1300px)":{marginLeft:"180px"}},selectorSort:{width:"200px",float:"left"},gamesContainer:{backgroundColor:"#e3e3e3",paddingTop:"8px",marginLeft:"15px",marginRight:"15px"}}),h=function(e){var n=(0,d.v)(),r=s.Z.useContainer(),o=l.Z.useContainer(),f=p(),m=(0,i.Z)("gameGenreFilterSupported",!1)&&!n.keyword,h=(0,i.Z)("gameCustomSortDropdown",!1)&&!n.keyword;return(0,a.useEffect)((function(){n.keyword&&r.setQuery(n.keyword),r.loadGames({query:n.keyword,genreFilter:r.genreFilter})}),[r.genreFilter]),(0,t.jsxs)("div",{className:"row "+(o.isAuthenticated?f.authContainer:""),children:[(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)(u.Z,{context:"gamesPage"})}),(0,t.jsx)("div",{className:"col-12 ps-0 pb-0",children:(0,t.jsxs)("div",{className:"row pb-2 "+f.gamesContainer,children:[(0,t.jsxs)("div",{className:"col-12",children:[h&&(0,t.jsx)("div",{className:f.selectorSort,children:(0,t.jsx)(c.Z,{onChange:function(e){console.log("[info] use sort",e)},options:[{name:"Default",value:"default"},{name:"Popular",value:"popular"},{name:"Top Earning",value:"top-earning"},{name:"Top Rated",value:"top-rated"},{name:"Recommended",value:"recommended"},{name:"Top Favorite",value:"top-favorite"},{name:"Top Paid",value:"top-paid"},{name:"Builders Club",value:"builders-club"}]})}),m&&(0,t.jsx)("div",{className:f.selectorSort+" ms-2",children:(0,t.jsx)(c.Z,{onChange:function(e){console.log("[info] use genre",e),r.setGenreFilter(e.value)},options:r.selectorSorts})})]}),(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)(v,{})})]})})]})}},4008:function(e,n,r){var t=r(5893),a=r(7294),o=(0,r(4245).QM)({selectorWrapper:{},selectorClosed:{padding:"10px 15px",textAlign:"left",width:"100%",color:"#666",background:"white",borderRadius:"4px",border:"1px solid #c3c3c3",fontSize:"16px",userSelect:"none",cursor:"pointer","&:hover":{background:"#01a2fd",color:"#ffffff"}},selectorOpen:{background:"#01a2fd",color:"#ffffff"},selectorCaret:{float:"right"},selectorMenuOpen:{position:"absolute",width:"100%",background:"white",zIndex:3},selectOption:{padding:"10px 15px",marginBottom:0,cursor:"pointer",userSelect:"none",fontSize:"16px","&:hover":{boxShadow:"4px 0 0 0 #00a2ff inset"}}});n.Z=function(e){var n=o(),r=(0,a.useState)(!1),i=r[0],l=r[1],s=(0,a.useState)((function(){return e.value?e.options.find((function(n){return n.value===e.value})):e.options[0]})),u=s[0],c=s[1],d=(0,a.useRef)(null);return(0,t.jsxs)("div",{className:n.selectorWrapper,children:[(0,t.jsxs)("div",{ref:d,className:n.selectorClosed+" "+(i?n.selectorOpen:""),onClick:function(){l(!i)},children:[(0,t.jsx)("span",{children:u.name}),(0,t.jsx)("span",{className:n.selectorCaret,children:"V"})]}),i&&d.current&&(0,t.jsx)("div",{className:n.selectorMenuOpen,style:{width:d.current.clientWidth+"px"},children:e.options.map((function(r){return(0,t.jsx)("p",{className:n.selectOption,onClick:function(){c(r),l(!1),e.onChange(r)},children:r.name},r.value)}))})]})}},4385:function(e,n,r){r.d(n,{v:function(){return t}});r(1163);var t=function(){var e=window.location.search;if("string"!==typeof e||0===e.length||-1===e.indexOf("="))return{};e.startsWith("?")&&(e=e.substring(1));for(var n={},r=e.split("="),t=0;t<r.length;t++)if(t%2!==0){var a=r[t-1],o=r[t];n[decodeURIComponent(a)]=decodeURIComponent(o)}return n}},4914:function(e,n,r){var t=r(6486),a=r(7294),o=r(8305),i=r(2300),l=r(2069),s=r(8586);function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){u(e,n,r[n])}))}return e}var d=[{name:"All",value:"all",id:0},{name:"Adventure",value:"adventure",id:7},{name:"Building",value:"building",id:13},{name:"Comedy",value:"comedy",id:9},{name:"Fighting",value:"fighting",id:4},{name:"FPS",value:"fps",id:14},{name:"Horror",value:"horror",id:5},{name:"Medieval",value:"medieval",id:2},{name:"Military",value:"military",id:11},{name:"Naval",value:"naval",id:6},{name:"RPG",value:"rpg",id:15},{name:"Sci-Fi",value:"sci-fi",id:3},{name:"Sports",value:"sports",id:8},{name:"Town and City",value:"town and city",id:1},{name:"Western",value:"western",id:10}],f=(0,o.f)((function(){var e=(0,a.useState)(null),n=e[0],r=e[1],o=(0,a.useState)(null),u=o[0],f=o[1],m=(0,a.useState)(null),v=m[0],p=m[1],h=(0,a.useRef)({}),g=(0,a.useState)({}),y=g[0],x=g[1],w=(0,a.useState)(null),b=w[0],k=w[1],S=(0,a.useState)(null),C=S[0],j=S[1],N=(0,i.Z)("gameGenreFilterMethod","default"),I=function(e){var n=(0,t.chunk)(e,100),r=!0,a=!1,o=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;(0,s.$U)({universeIds:u,size:"150x150"}).then((function(e){var n,r=c({},h.current||{}),t=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;r[s.targetId]=s.imageUrl}}catch(u){a=!0,o=u}finally{try{t||null==l.return||l.return()}finally{if(a)throw o}}n=c({},r),x(n),h.current=n}))}}catch(d){a=!0,o=d}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}};return{sorts:n,games:u,icons:y,infiniteGamesGrid:v,query:b,setQuery:k,genreFilter:C,setGenreFilter:j,selectorSorts:d,loadGames:function(e){var n=e.query,t=e.genreFilter;r(null),f(null),p(null),n?(0,l.ZN)({sortToken:"",limit:100,genre:[],keyword:n}).then((function(e){p(e);var n=[],r=!0,t=!1,a=void 0;try{for(var o,i=e.games[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;n.includes(l.universeId)||n.push(l.universeId)}}catch(s){t=!0,a=s}finally{try{r||null==i.return||i.return()}finally{if(t)throw a}}I(n)})):"default"===t||null===t||"all"===t?(0,l.Xy)({gameSortsContext:"GamesDefaultSorts"}).then((function(e){r(e.sorts);var n={},t=[],a=[],o=!0,i=!1,s=void 0;try{for(var u,c=function(e,r){var o=r.value;t.push((0,l.ZN)({sortToken:o.token,limit:100,keyword:""}).then((function(e){n[o.token]=e.games,e.games.forEach((function(e){a.includes(e.universeId)||a.push(e.universeId)}))})))},d=e.sorts[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c(0,u)}catch(m){i=!0,s=m}finally{try{o||null==d.return||d.return()}finally{if(i)throw s}}Promise.all(t).then((function(){f(n),I(a)}))})):(0,l.ZN)({sortToken:"",keyword:"keyword"===N?t:"",limit:100,genre:d.find((function(e){return e.value===t})).id}).then((function(e){p(e);var n=[],r=!0,t=!1,a=void 0;try{for(var o,i=e.games[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;n.includes(l.universeId)||n.push(l.universeId)}}catch(s){t=!0,a=s}finally{try{r||null==i.return||i.return()}finally{if(t)throw a}}I(n)}))}}}));n.Z=f}}]);